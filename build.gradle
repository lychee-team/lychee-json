plugins {
	id 'java'
	id 'java-library'
	id 'maven-publish'
	id 'org.cadixdev.licenser' version '0.6.1'
}

group = 'io.github.lychee-team'
version = '0.1.0'

sourceCompatibility = 11
targetCompatibility = 11

repositories {
	mavenCentral()
}

dependencies {
	api "com.fasterxml.jackson.core:jackson-databind:2.12.4"
	implementation "com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.12.4"
	compileOnly "org.immutables:value:2.8.8"
	compileOnly "org.immutables:builder:2.8.8"
	annotationProcessor "org.immutables:value:2.8.8"
	
	testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2'
	testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.6.2'
}

test {
	useJUnitPlatform()
}

license {
    header = project.file('HEADER')
}

tasks.withType(JavaCompile) {
	options.encoding = 'UTF-8'
	options.incremental = true
}

tasks.withType(Javadoc) {
    options {
        encoding = 'UTF-8'
        addStringOption 'Xdoclint:none', '-quiet'
        addStringOption 'encoding', 'UTF-8'
    }
    if (JavaVersion.current().isJava9Compatible()) {
        options.addBooleanOption('html5', true)
    }
}

java {
	withSourcesJar()
	withJavadocJar()
}
